<h1>Welcome to the Mountain Finder</h1>
<h2>Search for Mountains in Vermont.</h2>
<input type="text" id="textField"><br>
<button onclick="searchMountain()" placeholder="Find a mountain">Find a mountain</button>


<script>

  function searchMountain()
  {
var mountains = [];
var updateData = firebase.database().ref("Mountain");
updateData.on("child_added", function(data, prevChildKey) {
 var data = data.val()
 mountains.push(data.MountainName)

 })
        firebase.database().ref('Mountains/').set("Data is logged", function(error) {
        if (error) {
            alert("Data could not be saved." + error);
        } else {
            alert(mountains)
          var textfield, filter, ul, li, i;
    textfield = document.getElementById("textField");
    filter = textfield.value.toUpperCase();
    li = ul.getElementsByTagName("li");
    for (i = 0; i < mountains.length; i++) {
        if (mountains[i].toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";

        }
    }
        }
      });
       

  }
  
  window.onload = function()
  {
var mountains = [];
var updateData = firebase.database().ref("Mountain");
updateData.on("child_added", function(data, prevChildKey) {
 var data = data.val()
 mountains.push(data.MountainName)

 })
    
    firebase.database().ref('Mountains/').set("Data is logged", function(error) {
        if (error) {
            alert("Data could not be saved." + error);
        } else {
         for(var i=0;i<mountains.length;i++)
         {
          var ul = document.createElement("ul");
          var li = document.createElement("li");   
          var a = document.createElement("a");
          var aTitle = document.createTextNode(mountains[i])
          a.setAttribute('href', 'https://apple.com')
          a.appendChild(aTitle)
          li.appendChild(a);
          ul.appendChild(li)
          document.body.appendChild(ul);       
         }
        }
    })
   
  }
</script>
<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyC4d5ovqBY3zyqC3ebO35BJsoGokWEseQw",
    authDomain: "mountain-finder.firebaseapp.com",
    databaseURL: "https://mountain-finder.firebaseio.com",
    projectId: "mountain-finder",
    storageBucket: "mountain-finder.appspot.com",
    messagingSenderId: "336140217184"
  };
  firebase.initializeApp(config);
</script>
